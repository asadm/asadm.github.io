{"pageProps":{"frontMatter":{"title":"Making Azure Work","description":"If you know anything about cloud, you will know that nothing beats AWS. Any knowledgeable engineer will always choose AWS over Azure orâ€¦","date":"2016-11-07T09:42:16.961Z","categories":[],"keywords":[],"slug":"/@asadmemon/making-azure-work-36b7a97569b"},"slug":"azure","mdxSource":{"compiledSource":"var c=Object.defineProperty,u=Object.defineProperties;var m=Object.getOwnPropertyDescriptors;var n=Object.getOwnPropertySymbols;var l=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;var s=(e,o,t)=>o in e?c(e,o,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[o]=t,r=(e,o)=>{for(var t in o||(o={}))l.call(o,t)&&s(e,t,o[t]);if(n)for(var t of n(o))i.call(o,t)&&s(e,t,o[t]);return e},p=(e,o)=>u(e,m(o));var h=(e,o)=>{var t={};for(var a in e)l.call(e,a)&&o.indexOf(a)<0&&(t[a]=e[a]);if(e!=null&&n)for(var a of n(e))o.indexOf(a)<0&&i.call(e,a)&&(t[a]=e[a]);return t};const layoutProps={},MDXLayout=\"wrapper\";function MDXContent(t){var a=t,{components:e}=a,o=h(a,[\"components\"]);return mdx(MDXLayout,p(r(r({},layoutProps),o),{components:e,mdxType:\"MDXLayout\"}),mdx(\"p\",null,mdx(\"img\",r({parentName:\"p\"},{src:\"/assets/blog/old_posts/1__RFfKe6LRwunh2VbfWrpsZg.png\",alt:null}))),mdx(\"p\",null,\"If you know anything about cloud, you will know that nothing beats AWS. Any knowledgeable engineer will always choose AWS over Azure or Google Cloud.\"),mdx(\"p\",null,\"But sometimes, you are supposed to make it work with other platforms and life sucks for the Hipster Engineer\\u2122 (like myself). There is no sugar-coating it, Azure Portal simply sucks!\"),mdx(\"p\",null,mdx(\"img\",r({parentName:\"p\"},{src:\"/assets/blog/old_posts/1__XQs4n__Z8Tn8dZzI__XozRPg.png\",alt:null}))),mdx(\"p\",null,\"Specially when you are coming from AWS, everything from the Metro-UI to the documentation and community support. It\\u2019s all bad.\"),mdx(\"h3\",null,\"Docker\"),mdx(\"p\",null,\"Like any Valley engineer worth their salt, I use Docker for my deployment workflow. So naturally I thought of somehow letting Docker deal with Azure for me.\"),mdx(\"p\",null,\"I learned that I can set up a cluster of docker hosts using \",mdx(\"a\",r({parentName:\"p\"},{href:\"https://docs.docker.com/machine/overview/\"}),\"Docker Machine\"),\", a command-line tool that can connect to Azure on your behalf and provision Docker instances. No more Azure Portal for me!\"),mdx(\"h3\",null,\"GUI\"),mdx(\"p\",null,\"Now I wanted a good GUI wrapper over Docker Machine. Not a big fan of doing everything from CLI.\"),mdx(\"p\",null,\"So I looked at \",mdx(\"a\",r({parentName:\"p\"},{href:\"https://www.docker.com/products/docker-cloud\"}),\"Docker Cloud\"),\" (previously Tutum) which is perfect except that it\\u2019s expensive when you have many nodes. I settled for \",mdx(\"a\",r({parentName:\"p\"},{href:\"http://rancher.com/rancher/\"}),\"Rancher\"),\" which is even better and these are the reasons why:\"),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},\"Can provision instances right from it\\u2019s UI instead of docker-machine CLI.\"),mdx(\"li\",{parentName:\"ul\"},\"Doesn\\u2019t bring anything proprietary and uses Docker Compose config behind-the-scenes.\"),mdx(\"li\",{parentName:\"ul\"},\"Load balancer, health checks, scheduling, roll-backs, etc.\"),mdx(\"li\",{parentName:\"ul\"},\"Open-Source!\")),mdx(\"p\",null,mdx(\"img\",r({parentName:\"p\"},{src:\"/assets/blog/old_posts/1__H1008zYiVaalHzOj__2lw3w.png\",alt:null}))),mdx(\"h3\",null,\"Deployment, Now\"),mdx(\"p\",null,\"So here is an overview of how I deploy now:\"),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},\"Push my updated code to Github repo.\"),mdx(\"li\",{parentName:\"ul\"},\"Docker Cloud pulls the repo and builds an image from the Dockerfile.\"),mdx(\"li\",{parentName:\"ul\"},\"I tell Rancher to upgrade it\\u2019s containers to latest Docker image.\"),mdx(\"li\",{parentName:\"ul\"},\"Rancher upgrades all containers to the newer image while also making sure there is no downtime.\"),mdx(\"li\",{parentName:\"ul\"},\"I make sure everything is working, if not I can always rollback from Rancher UI.\")),mdx(\"p\",null,\"Pretty cool, huh?\"))}MDXContent.isMDXComponent=!0;\n","scope":{}}},"__N_SSG":true}