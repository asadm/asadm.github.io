<!DOCTYPE html><html><head><meta charSet="utf-8"/><title>Arm Tracking using Pebble – Asad Memon</title><meta name="description" content="Asad Memon&#x27;s homepage."/><meta property="og:title" content="Arm Tracking using Pebble – Asad Memon"/><meta property="og:type" content="article"/><meta property="og:url" content="https://asadmemon.comundefined"/><link rel="apple-touch-icon" href="/assets/favicon.png"/><link rel="shortcut icon" href="/assets/favicon.png"/><meta property="og:image" content="https://asadmemon.com/assets/img/main1.jpg"/><meta property="og:description" content="Asad Memon&#x27;s homepage."/><a href="//fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,500" rel="stylesheet" type="text/css"></a><meta name="viewport" content="width=device-width, initial-scale=0.8"/><script>
// Head scripts for the site

// google analytics
(function (i, s, o, g, r, a, m) {
  i['GoogleAnalyticsObject'] = r; i[r] = i[r] || function () {
    (i[r].q = i[r].q || []).push(arguments)
  }, i[r].l = 1 * new Date(); a = s.createElement(o),
    m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentNode.insertBefore(a, m)
  })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

  ga('create', 'UA-58030862-1', 'auto');
  ga('send', 'pageview');

// heap analytics
window.heap = window.heap || [], heap.load = function (e, t) { window.heap.appid = e, window.heap.config = t = t || {}; var r = t.forceSSL || "https:" === document.location.protocol, a = document.createElement("script"); a.type = "text/javascript", a.async = !0, a.src = (r ? "https:" : "http:") + "//cdn.heapanalytics.com/js/heap-" + e + ".js"; var n = document.getElementsByTagName("script")[0]; n.parentNode.insertBefore(a, n); for (var o = function (e) { return function () { heap.push([e].concat(Array.prototype.slice.call(arguments, 0))) } }, p = ["addEventProperties", "addUserProperties", "clearEventProperties", "identify", "removeEventProperty", "setEventProperties", "track", "unsetEventProperty"], c = 0; c < p.length; c++)heap[p[c]] = o(p[c]) };
heap.load("1855799973");
</script><meta name="next-head-count" content="13"/><link rel="preload" href="/_next/static/css/7475da46e5681ddd.css" as="style"/><link rel="stylesheet" href="/_next/static/css/7475da46e5681ddd.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/_next/static/chunks/webpack-f0c67226c0552813.js" defer=""></script><script src="/_next/static/chunks/framework-0f8b31729833af61.js" defer=""></script><script src="/_next/static/chunks/main-4f2953e6496bdc12.js" defer=""></script><script src="/_next/static/chunks/pages/_app-4c3c523680929466.js" defer=""></script><script src="/_next/static/chunks/75fc9c18-4d2f0a9f494a9dad.js" defer=""></script><script src="/_next/static/chunks/996-a55ad17571c235cb.js" defer=""></script><script src="/_next/static/chunks/922-2bd5d729f45cbd99.js" defer=""></script><script src="/_next/static/chunks/pages/blog/%5Bslug%5D-4605ffb8eec611e4.js" defer=""></script><script src="/_next/static/xEVP_KykDfav9pph6hwHV/_buildManifest.js" defer=""></script><script src="/_next/static/xEVP_KykDfav9pph6hwHV/_ssgManifest.js" defer=""></script><script src="/_next/static/xEVP_KykDfav9pph6hwHV/_middlewareManifest.js" defer=""></script></head><body><div class="container"><h1 id="logo" class="text-center"><a href="/">Asad<b>Memon</b></a></h1><ul class="menu"><li><a href="/projects">All Projects</a></li><li><a href="/talks">Talks</a></li><li><a href="/blog">Blog</a></li><li><a target="_blank" href="https://asad.substack.com/">Newsletter</a></li><li><a target="_blank" href="https://github.com/asadm">Github</a></li><li><a target="_blank" href="https://www.linkedin.com/in/memonasad/">LinkedIn</a></li><li><a target="_blank" href="http://instagram.com/snapmemon">Instagram</a></li></ul><div id="__next"><div class="mt-4 blog"><h1>Arm Tracking using Pebble</h1><div class="meta"><div class="subscribe-text"><a class="" href="/blog/">Back</a> | <a href="/feed.xml">Subscribe with RSS</a> or <a href="https://feedly.com/i/subscription/feed%2Fhttps%3A%2F%2Fasadmemon.com%2Ffeed.xml">via Feedly</a>.</div><br/><span class="date" title="Friday, September 9th 2016">7 years ago<!-- --> | <!-- -->3<!-- --> min read</span></div><p><img src="/assets/blog/old_posts/0__gfDaXqPYbtXRJWsy.jpg"/></p><p>I, as most other owners love my <strong>Pebble watch</strong>. It is incredible how a simple hardware device (uC + Display + BT + Sensors) strapped to your wrist can provide so many functions thanks to the power of software.</p><p>Since its release, I had been interested in the motion sensors onboard and was somewhat disappointed that it just had a <strong>3-axis accelerometer and a compass</strong>. Which means it cannot detect complicated gestures or provide accurate 3-axis direction (where my hand is pointing in 3D space).</p><p>Considering the limitations, I still wanted to check just how accurate this can be. Here is a brief write-up of my attempt on doing some arm tracking using Pebble.</p><h3>Results</h3><p>I was able to convert raw sensor data to usable Pitch Roll Yaw values to know where my hand is pointing in 3D space:</p><p><img src="/assets/blog/old_posts/0__N__0FryXzlGK50V__d.gif"/></p><p>Knowing direction in 3D space can have many uses like controlling a virtual speaker’s volume by pointing at it and rolling your hand:</p><p><img src="/assets/blog/old_posts/0__cYQtyoP7kcIQk1Rp.gif"/></p><h3>The Process</h3><ul><li>First step was to get the accelerometer values and send them to my laptop. There can be two ways to do that:</li><li>Connect Pebble to your laptops bluetooth and somehow access the data (Trivial)</li><li>Use Internet API of pebble to send data to your laptop’s IP via your phone’s wifi. So: Watch -&gt; Phone -&gt; Laptop</li><li>I chose the later method so I can concentrate on main problem rather than the connectivity issues. I know the extra lag will not be practical though.</li><li>I started with the <a href="https://github.com/pebble-examples/feature-accel-discs">Accelerometer Example</a> and used <a href="https://cloudpebble.net">CloudPebble</a> to make a quick app.</li><li>Web API is only available in JS API of Pebble so first I sent Accel+Compass data from C to JS and then sent them over to a Nodejs server running on my laptop.</li><li>Created a html page which gets the values and calculates Roll, Pitch, and Yaw.</li><li>Used these new values to show a 3D pointer of your direction.</li><li>Used values to build a basic dummy example where you can control your home electronics by pointing at them and doing a hand-roll gesture. Like pointing at your speaker and controlling the volume by rotating your arm clockwise/anticlockwise.</li></ul><h3>The Code</h3><ul><li>The code is very very crude and is just to prove the point. To run it yourself:</li><li>Download the code from <a href="https://github.com/asadm/pebble-arm-tracking">my Github</a>.</li><li>The ‘server’ folder holds the Nodejs server which will run on your computer.</li><li>The ‘cloudpebble’ folder is to be deployed to your pebble watch.</li><li>Please change the IP to your computer’s in cloudpebble/app.js file.</li><li>Make sure your phone and computer are on same Wifi network.</li></ul><h3>Conclusion</h3><p>Considering this was a crude and quick hack, it might be safe to assume that this can be perfected for practical uses. Another point of this post is that you don’t need another smartphone on your wrist (as <a href="https://www.linkedin.com/in/ericmigi">Eric Migicovsky</a> rightly pointed out many times) and a minimal hardware should be enough to empower you.</p></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"frontMatter":{"title":"Arm Tracking using Pebble","description":"I, as most other owners love my Pebble watch. It is incredible how a simple hardware device (uC + Display + BT + Sensors) strapped to your…","date":"2016-09-09T08:41:43.268Z","keywords":[]},"slug":"arm-tracking","mdxSource":{"compiledSource":"var c=Object.defineProperty,u=Object.defineProperties;var m=Object.getOwnPropertyDescriptors;var i=Object.getOwnPropertySymbols;var s=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;var l=(e,t,a)=\u003et in e?c(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,n=(e,t)=\u003e{for(var a in t||(t={}))s.call(t,a)\u0026\u0026l(e,a,t[a]);if(i)for(var a of i(t))r.call(t,a)\u0026\u0026l(e,a,t[a]);return e},p=(e,t)=\u003eu(e,m(t));var h=(e,t)=\u003e{var a={};for(var o in e)s.call(e,o)\u0026\u0026t.indexOf(o)\u003c0\u0026\u0026(a[o]=e[o]);if(e!=null\u0026\u0026i)for(var o of i(e))t.indexOf(o)\u003c0\u0026\u0026r.call(e,o)\u0026\u0026(a[o]=e[o]);return a};const layoutProps={},MDXLayout=\"wrapper\";function MDXContent(a){var o=a,{components:e}=o,t=h(o,[\"components\"]);return mdx(MDXLayout,p(n(n({},layoutProps),t),{components:e,mdxType:\"MDXLayout\"}),mdx(\"p\",null,mdx(\"img\",n({parentName:\"p\"},{src:\"/assets/blog/old_posts/0__gfDaXqPYbtXRJWsy.jpg\",alt:null}))),mdx(\"p\",null,\"I, as most other owners love my \",mdx(\"strong\",{parentName:\"p\"},\"Pebble watch\"),\". It is incredible how a simple hardware device (uC + Display + BT + Sensors) strapped to your wrist can provide so many functions thanks to the power of software.\"),mdx(\"p\",null,\"Since its release, I had been interested in the motion sensors onboard and was somewhat disappointed that it just had a \",mdx(\"strong\",{parentName:\"p\"},\"3-axis accelerometer and a compass\"),\". Which means it cannot detect complicated gestures or provide accurate 3-axis direction (where my hand is pointing in 3D space).\"),mdx(\"p\",null,\"Considering the limitations, I still wanted to check just how accurate this can be. Here is a brief write-up of my attempt on doing some arm tracking using Pebble.\"),mdx(\"h3\",null,\"Results\"),mdx(\"p\",null,\"I was able to convert raw sensor data to usable Pitch Roll Yaw values to know where my hand is pointing in 3D space:\"),mdx(\"p\",null,mdx(\"img\",n({parentName:\"p\"},{src:\"/assets/blog/old_posts/0__N__0FryXzlGK50V__d.gif\",alt:null}))),mdx(\"p\",null,\"Knowing direction in 3D space can have many uses like controlling a virtual speaker\\u2019s volume by pointing at it and rolling your hand:\"),mdx(\"p\",null,mdx(\"img\",n({parentName:\"p\"},{src:\"/assets/blog/old_posts/0__cYQtyoP7kcIQk1Rp.gif\",alt:null}))),mdx(\"h3\",null,\"The Process\"),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},\"First step was to get the accelerometer values and send them to my laptop. There can be two ways to do that:\"),mdx(\"li\",{parentName:\"ul\"},\"Connect Pebble to your laptops bluetooth and somehow access the data (Trivial)\"),mdx(\"li\",{parentName:\"ul\"},\"Use Internet API of pebble to send data to your laptop\\u2019s IP via your phone\\u2019s wifi. So: Watch -\u003e Phone -\u003e Laptop\"),mdx(\"li\",{parentName:\"ul\"},\"I chose the later method so I can concentrate on main problem rather than the connectivity issues. I know the extra lag will not be practical though.\"),mdx(\"li\",{parentName:\"ul\"},\"I started with the \",mdx(\"a\",n({parentName:\"li\"},{href:\"https://github.com/pebble-examples/feature-accel-discs\"}),\"Accelerometer Example\"),\" and used \",mdx(\"a\",n({parentName:\"li\"},{href:\"https://cloudpebble.net\"}),\"CloudPebble\"),\" to make a quick app.\"),mdx(\"li\",{parentName:\"ul\"},\"Web API is only available in JS API of Pebble so first I sent Accel+Compass data from C to JS and then sent them over to a Nodejs server running on my laptop.\"),mdx(\"li\",{parentName:\"ul\"},\"Created a html page which gets the values and calculates Roll, Pitch, and Yaw.\"),mdx(\"li\",{parentName:\"ul\"},\"Used these new values to show a 3D pointer of your direction.\"),mdx(\"li\",{parentName:\"ul\"},\"Used values to build a basic dummy example where you can control your home electronics by pointing at them and doing a hand-roll gesture. Like pointing at your speaker and controlling the volume by rotating your arm clockwise/anticlockwise.\")),mdx(\"h3\",null,\"The Code\"),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},\"The code is very very crude and is just to prove the point. To run it yourself:\"),mdx(\"li\",{parentName:\"ul\"},\"Download the code from \",mdx(\"a\",n({parentName:\"li\"},{href:\"https://github.com/asadm/pebble-arm-tracking\"}),\"my Github\"),\".\"),mdx(\"li\",{parentName:\"ul\"},\"The \\u2018server\\u2019 folder holds the Nodejs server which will run on your computer.\"),mdx(\"li\",{parentName:\"ul\"},\"The \\u2018cloudpebble\\u2019 folder is to be deployed to your pebble watch.\"),mdx(\"li\",{parentName:\"ul\"},\"Please change the IP to your computer\\u2019s in cloudpebble/app.js file.\"),mdx(\"li\",{parentName:\"ul\"},\"Make sure your phone and computer are on same Wifi network.\")),mdx(\"h3\",null,\"Conclusion\"),mdx(\"p\",null,\"Considering this was a crude and quick hack, it might be safe to assume that this can be perfected for practical uses. Another point of this post is that you don\\u2019t need another smartphone on your wrist (as \",mdx(\"a\",n({parentName:\"p\"},{href:\"https://www.linkedin.com/in/ericmigi\"}),\"Eric Migicovsky\"),\" rightly pointed out many times) and a minimal hardware should be enough to empower you.\"))}MDXContent.isMDXComponent=!0;\n","scope":{}},"readingTime":3},"__N_SSG":true},"page":"/blog/[slug]","query":{"slug":"arm-tracking"},"buildId":"xEVP_KykDfav9pph6hwHV","isFallback":false,"gsp":true,"scriptLoader":[]}</script><div class="footer"><p>AsadMemon.com [<a href="https://github.com/asadm/asadm.github.io" target="_blank">source code</a>].</p></div></div></body></html>