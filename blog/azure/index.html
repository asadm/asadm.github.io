<!DOCTYPE html><html><head><meta charSet="utf-8"/><title>Making Azure Work – Asad Memon</title><meta name="description" content="Asad Memon&#x27;s homepage."/><meta property="og:title" content="Making Azure Work – Asad Memon"/><meta property="og:type" content="article"/><meta property="og:url" content="https://asadmemon.comundefined"/><link rel="apple-touch-icon" href="/assets/favicon.png"/><link rel="shortcut icon" href="/assets/favicon.png"/><meta property="og:image" content="https://asadmemon.com/assets/img/main1.jpg"/><meta property="og:description" content="Asad Memon&#x27;s homepage."/><a href="//fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,500" rel="stylesheet" type="text/css"></a><meta name="viewport" content="width=device-width, initial-scale=0.8"/><script>
// Head scripts for the site

// google analytics
(function (i, s, o, g, r, a, m) {
  i['GoogleAnalyticsObject'] = r; i[r] = i[r] || function () {
    (i[r].q = i[r].q || []).push(arguments)
  }, i[r].l = 1 * new Date(); a = s.createElement(o),
    m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentNode.insertBefore(a, m)
  })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

  ga('create', 'UA-58030862-1', 'auto');
  ga('send', 'pageview');

// heap analytics
window.heap = window.heap || [], heap.load = function (e, t) { window.heap.appid = e, window.heap.config = t = t || {}; var r = t.forceSSL || "https:" === document.location.protocol, a = document.createElement("script"); a.type = "text/javascript", a.async = !0, a.src = (r ? "https:" : "http:") + "//cdn.heapanalytics.com/js/heap-" + e + ".js"; var n = document.getElementsByTagName("script")[0]; n.parentNode.insertBefore(a, n); for (var o = function (e) { return function () { heap.push([e].concat(Array.prototype.slice.call(arguments, 0))) } }, p = ["addEventProperties", "addUserProperties", "clearEventProperties", "identify", "removeEventProperty", "setEventProperties", "track", "unsetEventProperty"], c = 0; c < p.length; c++)heap[p[c]] = o(p[c]) };
heap.load("1855799973");
</script><meta name="next-head-count" content="13"/><link rel="preload" href="/_next/static/css/7475da46e5681ddd.css" as="style"/><link rel="stylesheet" href="/_next/static/css/7475da46e5681ddd.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/_next/static/chunks/webpack-f0c67226c0552813.js" defer=""></script><script src="/_next/static/chunks/framework-0f8b31729833af61.js" defer=""></script><script src="/_next/static/chunks/main-4f2953e6496bdc12.js" defer=""></script><script src="/_next/static/chunks/pages/_app-4c3c523680929466.js" defer=""></script><script src="/_next/static/chunks/75fc9c18-4d2f0a9f494a9dad.js" defer=""></script><script src="/_next/static/chunks/996-a55ad17571c235cb.js" defer=""></script><script src="/_next/static/chunks/922-2bd5d729f45cbd99.js" defer=""></script><script src="/_next/static/chunks/pages/blog/%5Bslug%5D-4605ffb8eec611e4.js" defer=""></script><script src="/_next/static/xEVP_KykDfav9pph6hwHV/_buildManifest.js" defer=""></script><script src="/_next/static/xEVP_KykDfav9pph6hwHV/_ssgManifest.js" defer=""></script><script src="/_next/static/xEVP_KykDfav9pph6hwHV/_middlewareManifest.js" defer=""></script></head><body><div class="container"><h1 id="logo" class="text-center"><a href="/">Asad<b>Memon</b></a></h1><ul class="menu"><li><a href="/projects">All Projects</a></li><li><a href="/talks">Talks</a></li><li><a href="/blog">Blog</a></li><li><a target="_blank" href="https://asad.substack.com/">Newsletter</a></li><li><a target="_blank" href="https://github.com/asadm">Github</a></li><li><a target="_blank" href="https://www.linkedin.com/in/memonasad/">LinkedIn</a></li><li><a target="_blank" href="http://instagram.com/snapmemon">Instagram</a></li></ul><div id="__next"><div class="mt-4 blog"><h1>Making Azure Work</h1><div class="meta"><div class="subscribe-text"><a class="" href="/blog/">Back</a> | <a href="/feed.xml">Subscribe with RSS</a> or <a href="https://feedly.com/i/subscription/feed%2Fhttps%3A%2F%2Fasadmemon.com%2Ffeed.xml">via Feedly</a>.</div><br/><span class="date" title="Monday, November 7th 2016">7 years ago<!-- --> | <!-- -->2<!-- --> min read</span></div><p><img src="/assets/blog/old_posts/1__RFfKe6LRwunh2VbfWrpsZg.png"/></p><p>If you know anything about cloud, you will know that nothing beats AWS. Any knowledgeable engineer will always choose AWS over Azure or Google Cloud.</p><p>But sometimes, you are supposed to make it work with other platforms and life sucks for the Hipster Engineer™ (like myself). There is no sugar-coating it, Azure Portal simply sucks!</p><p><img src="/assets/blog/old_posts/1__XQs4n__Z8Tn8dZzI__XozRPg.png"/></p><p>Specially when you are coming from AWS, everything from the Metro-UI to the documentation and community support. It’s all bad.</p><h3>Docker</h3><p>Like any Valley engineer worth their salt, I use Docker for my deployment workflow. So naturally I thought of somehow letting Docker deal with Azure for me.</p><p>I learned that I can set up a cluster of docker hosts using <a href="https://docs.docker.com/machine/overview/">Docker Machine</a>, a command-line tool that can connect to Azure on your behalf and provision Docker instances. No more Azure Portal for me!</p><h3>GUI</h3><p>Now I wanted a good GUI wrapper over Docker Machine. Not a big fan of doing everything from CLI.</p><p>So I looked at <a href="https://www.docker.com/products/docker-cloud">Docker Cloud</a> (previously Tutum) which is perfect except that it’s expensive when you have many nodes. I settled for <a href="http://rancher.com/rancher/">Rancher</a> which is even better and these are the reasons why:</p><ul><li>Can provision instances right from it’s UI instead of docker-machine CLI.</li><li>Doesn’t bring anything proprietary and uses Docker Compose config behind-the-scenes.</li><li>Load balancer, health checks, scheduling, roll-backs, etc.</li><li>Open-Source!</li></ul><p><img src="/assets/blog/old_posts/1__H1008zYiVaalHzOj__2lw3w.png"/></p><h3>Deployment, Now</h3><p>So here is an overview of how I deploy now:</p><ul><li>Push my updated code to Github repo.</li><li>Docker Cloud pulls the repo and builds an image from the Dockerfile.</li><li>I tell Rancher to upgrade it’s containers to latest Docker image.</li><li>Rancher upgrades all containers to the newer image while also making sure there is no downtime.</li><li>I make sure everything is working, if not I can always rollback from Rancher UI.</li></ul><p>Pretty cool, huh?</p></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"frontMatter":{"title":"Making Azure Work","description":"If you know anything about cloud, you will know that nothing beats AWS. Any knowledgeable engineer will always choose AWS over Azure or…","date":"2016-11-07T09:42:16.961Z","categories":[],"keywords":[],"slug":"/@asadmemon/making-azure-work-36b7a97569b"},"slug":"azure","mdxSource":{"compiledSource":"var c=Object.defineProperty,u=Object.defineProperties;var m=Object.getOwnPropertyDescriptors;var n=Object.getOwnPropertySymbols;var l=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;var s=(e,o,t)=\u003eo in e?c(e,o,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[o]=t,r=(e,o)=\u003e{for(var t in o||(o={}))l.call(o,t)\u0026\u0026s(e,t,o[t]);if(n)for(var t of n(o))i.call(o,t)\u0026\u0026s(e,t,o[t]);return e},p=(e,o)=\u003eu(e,m(o));var h=(e,o)=\u003e{var t={};for(var a in e)l.call(e,a)\u0026\u0026o.indexOf(a)\u003c0\u0026\u0026(t[a]=e[a]);if(e!=null\u0026\u0026n)for(var a of n(e))o.indexOf(a)\u003c0\u0026\u0026i.call(e,a)\u0026\u0026(t[a]=e[a]);return t};const layoutProps={},MDXLayout=\"wrapper\";function MDXContent(t){var a=t,{components:e}=a,o=h(a,[\"components\"]);return mdx(MDXLayout,p(r(r({},layoutProps),o),{components:e,mdxType:\"MDXLayout\"}),mdx(\"p\",null,mdx(\"img\",r({parentName:\"p\"},{src:\"/assets/blog/old_posts/1__RFfKe6LRwunh2VbfWrpsZg.png\",alt:null}))),mdx(\"p\",null,\"If you know anything about cloud, you will know that nothing beats AWS. Any knowledgeable engineer will always choose AWS over Azure or Google Cloud.\"),mdx(\"p\",null,\"But sometimes, you are supposed to make it work with other platforms and life sucks for the Hipster Engineer\\u2122 (like myself). There is no sugar-coating it, Azure Portal simply sucks!\"),mdx(\"p\",null,mdx(\"img\",r({parentName:\"p\"},{src:\"/assets/blog/old_posts/1__XQs4n__Z8Tn8dZzI__XozRPg.png\",alt:null}))),mdx(\"p\",null,\"Specially when you are coming from AWS, everything from the Metro-UI to the documentation and community support. It\\u2019s all bad.\"),mdx(\"h3\",null,\"Docker\"),mdx(\"p\",null,\"Like any Valley engineer worth their salt, I use Docker for my deployment workflow. So naturally I thought of somehow letting Docker deal with Azure for me.\"),mdx(\"p\",null,\"I learned that I can set up a cluster of docker hosts using \",mdx(\"a\",r({parentName:\"p\"},{href:\"https://docs.docker.com/machine/overview/\"}),\"Docker Machine\"),\", a command-line tool that can connect to Azure on your behalf and provision Docker instances. No more Azure Portal for me!\"),mdx(\"h3\",null,\"GUI\"),mdx(\"p\",null,\"Now I wanted a good GUI wrapper over Docker Machine. Not a big fan of doing everything from CLI.\"),mdx(\"p\",null,\"So I looked at \",mdx(\"a\",r({parentName:\"p\"},{href:\"https://www.docker.com/products/docker-cloud\"}),\"Docker Cloud\"),\" (previously Tutum) which is perfect except that it\\u2019s expensive when you have many nodes. I settled for \",mdx(\"a\",r({parentName:\"p\"},{href:\"http://rancher.com/rancher/\"}),\"Rancher\"),\" which is even better and these are the reasons why:\"),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},\"Can provision instances right from it\\u2019s UI instead of docker-machine CLI.\"),mdx(\"li\",{parentName:\"ul\"},\"Doesn\\u2019t bring anything proprietary and uses Docker Compose config behind-the-scenes.\"),mdx(\"li\",{parentName:\"ul\"},\"Load balancer, health checks, scheduling, roll-backs, etc.\"),mdx(\"li\",{parentName:\"ul\"},\"Open-Source!\")),mdx(\"p\",null,mdx(\"img\",r({parentName:\"p\"},{src:\"/assets/blog/old_posts/1__H1008zYiVaalHzOj__2lw3w.png\",alt:null}))),mdx(\"h3\",null,\"Deployment, Now\"),mdx(\"p\",null,\"So here is an overview of how I deploy now:\"),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},\"Push my updated code to Github repo.\"),mdx(\"li\",{parentName:\"ul\"},\"Docker Cloud pulls the repo and builds an image from the Dockerfile.\"),mdx(\"li\",{parentName:\"ul\"},\"I tell Rancher to upgrade it\\u2019s containers to latest Docker image.\"),mdx(\"li\",{parentName:\"ul\"},\"Rancher upgrades all containers to the newer image while also making sure there is no downtime.\"),mdx(\"li\",{parentName:\"ul\"},\"I make sure everything is working, if not I can always rollback from Rancher UI.\")),mdx(\"p\",null,\"Pretty cool, huh?\"))}MDXContent.isMDXComponent=!0;\n","scope":{}},"readingTime":2},"__N_SSG":true},"page":"/blog/[slug]","query":{"slug":"azure"},"buildId":"xEVP_KykDfav9pph6hwHV","isFallback":false,"gsp":true,"scriptLoader":[]}</script><div class="footer"><p>AsadMemon.com [<a href="https://github.com/asadm/asadm.github.io" target="_blank">source code</a>].</p></div></div></body></html>